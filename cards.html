<html>

<canvas id="gameCanvas" width="600" height="400"></canvas>

<script>
    var canvas;
    var canvasContext;

    var deck = [];
    var clubs = [{}];
    var hearts = [{}];
    var spades = [{}];
    var diamonds = [{}];

    console.log(deck);
    
    var populateDeck = function (name, suit) {
        for (i = 0; i < 13; i++) { //  populate the deck
            if (i==1){
                i++;
            }
            name[i] = { value: i, suit: suit };


            //Set the Aces etc
            
            if (name[i].value == 0) {
                name[i].value = 'A';
            }
            if (name[i].value == 11) {
                name[i].value = 'J';
            }
            if (name[i].value == 12) {
                name[i].value = 'Q';
            }
            if (name[i].value == 13) {
                name[i].value = 'K';
            }
        }
        
    }
    
    var shuffleDeck = function (a) { //function to shuffle the deck
           var newDeck = [];
            for (i = 0; i < a.length; i ++){
                newDeck.push(a[Math.floor((Math.random()*a.length)+1)]); // choose a random index 
            }

            
            return newDeck;
        }

    //Setting up the suits
    populateDeck(clubs, 'clubs');
    populateDeck(hearts, 'hearts');
    populateDeck(diamonds, 'diamonds');
    populateDeck(spades, 'spades');
    deck = deck.concat(clubs,hearts, diamonds, spades);       
    //console.log(shuffleDeck(deck));
    console.log(deck);


    //EVERYTHING BELOW BORROWED FROM pong.html (needs fixing)
    window.onload = function () {
        console.log("window loaded");
        canvas = document.getElementById('gameCanvas');
        canvasContext = canvas.getContext('2d');

        var fPS = 30; //frames per second
        setInterval(function () { drawEverything(); }, 1000 / fPS);

        canvas.addEventListener('mousedown', handleMouseClick);

        canvas.addEventListener('mousemove', function (evt) {
            var mousePos = calcMousePos(evt);
            //pad1Y = mousePos.y-(PADDLE_HEIGHT/2);
        });

    }

    function drawEverything() {

        //canvasContext.fillStyle = 'black';
        colourRect(0, 0, canvas.width, canvas.height, 'black'); //creates black background

        //colourRect(20, 20, 50, 80, 'red');
        //colourRect(25, 25, 40, 70, 'blue');//draw card
        for (i = 20; i < 20 + 520; i += 10) { // draw 52 cards
            drawCard(i, 20);
        }
        //drawCard(100,200);// draw the players hand
        //drawCard(160, 200);
        drawHand(100);

    }

    function drawCard(cardX, cardY) {
        colourRect(cardX, cardY, 50, 80, 'red');
        colourRect(cardX + 5, cardY + 5, 40, 70, 'blue')
    }

    function drawHand(cardX) { // for drawing the players hand
        drawCard(cardX, 200);
        drawCard(cardX + 60, 200); //Future PSUEDO: For each card in hand, draw them 60px apart
        drawCard(cardX + 120, 200);
    }

    function calcMousePos(evt) { //function for finding the cursor position
        var rect = canvas.getBoundingClientRect();
        var root = document.documentElement;
        var mouseX = evt.clientX - rect.left - root.scrollLeft;
        var mouseY = evt.clientY - rect.top - root.scrollTop;
        return {
            x: mouseX,
            y: mouseY
        };
    }

    function handleMouseClick(evt) {
        if (showWinScreen) {
            showWinScreen = false;
        }
    }



    function colourRect(leftX, topY, width, height, drawColour) { //funciton for drawing rectangles
        canvasContext.fillStyle = drawColour;
        canvasContext.fillRect(leftX, topY, width, height);
    }


</script>

</html>